<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Example with Transitions</title>
    <link rel="stylesheet" href="../shared/css/base.css" />
    <link rel="stylesheet" href="transition.css" />
  </head>
  <body>
    <h1>Example with Transitions</h1>
    <div id="container">

    </div>

    <div id="container_2">

    </div>

    <script src="../../build/react-with-addons.js"></script>
    <script src="../../build/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
    <script type="text/babel">
      var CSSTransitionGroup = React.addons.CSSTransitionGroup;
      var INTERVAL = 2000;

      var AnimateDemo = React.createClass({
        getInitialState: function() {
          return {current: 0};
        },

        componentDidMount: function() {
          this.interval = setInterval(this.tick, INTERVAL);
        },

        componentWillUnmount: function() {
          clearInterval(this.interval);
        },

        tick: function() {
          this.setState({current: this.state.current + 1});
        },

        render: function() {
          var children = [];
          var pos = 0;
          var colors = ['red', 'gray', 'blue'];
          for (var i = this.state.current; i < this.state.current + colors.length; i++) {
            var style = {
              left: pos * 128,
              background: colors[i % colors.length]
            };
            pos++;
            children.push(<div key={i} className="animateItem" style={style}>{i}</div>);
          }
          return (
            <CSSTransitionGroup
              className="animateExample"
              transitionEnterTimeout={250}
              transitionLeaveTimeout={250}
              transitionName="example">
              {children}
            </CSSTransitionGroup>
          );
        }
      });

      ReactDOM.render(
        <AnimateDemo />,
        document.getElementById('container')
      );

            var ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;


      var TodoList = React.createClass({
        getInitialState: function() {
        return {items: ['hello', 'world', 'click', 'me']};
        },
        handleAdd: function() {
        var newItems =
        this.state.items.concat([prompt('Enter some text')]);
        this.setState({items: newItems});
        },
        handleRemove: function(i) {
        var newItems = this.state.items;
        newItems.splice(i, 1);
        this.setState({items: newItems});
        },
        render: function() {
        return (
          <div>
          <ReactCSSTransitionGroup transitionName = "example"
          transitionAppear = {true} transitionAppearTimeout = {500}
          transitionEnter = {false} transitionLeave = {false}>

          <h1>This text will fade in</h1>
          </ReactCSSTransitionGroup>
          </div>
          );
        }
      });

      ReactDOM.render(
        <TodoList />,
        document.getElementById('container_2')
      );
    </script>
  </body>
</html>
